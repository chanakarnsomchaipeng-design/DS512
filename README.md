# DS512
# Heart Failure Prediction
โครงการวิเคราะห์ข้อมูลและการสร้างโมเดล Machine Learning

---

## 1. บทนำ (Introduction)

โรคหัวใจเป็นสาเหตุการเสียชีวิตอันดับต้นๆ การวินิจฉัยต้องอาศัยแพทย์ผู้เชี่ยวชาญและเครื่องมือเฉพาะทาง 
ปัญหา คือ เราจะสามารถใช้ข้อมูลจากการตรวจสุขภาพพื้นฐานและอาการทางคลินิก (เช่น อายุ, ระดับคอเลสเตอรอล, ผลคลื่นไฟฟ้าหัวใจ, อาการเจ็บหน้าอก) มาวิเคราะห์เพื่อระบุปัจจัยเสี่ยงที่สำคัญ 
และสร้างแบบจำลองเพื่อทำนายความน่าจะเป็นของการเกิดโรคหัวใจได้อย่างไร เพื่อช่วยในการคัดกรองผู้ป่วยเบื้องต้นอย่างมีประสิทธิภาพ

---

## 2. วัตถุประสงค์ของโครงการ (Objectives)

เครื่องมือประเมินความเสี่ยงด้วยตนเอง ช่วยให้ผู้ใช้งานรู้สถานะสุขภาพก่อนเกิดอาการรุนแรง ค้นหาผู้ป่วยระยะเริ่มต้นเพื่อลดอัตราการเสียชีวิตเฉียบพลัน 
มุ่งเน้นการเปลี่ยนข้อมูลสุขภาพให้เป็นสัญญาณเตือนภัยล่วงหน้า เพื่อการรักษาที่รวดเร็วและแม่นยำยิ่งขึ้น

---

## 3. คำถามการวิจัยและสมมติฐาน  


### คำถามการวิจัย
- เพศใดมีแนวโน้มเป็นโรคหัวใจมากกว่า
-  อายุที่มากขึ้นมีผลต่อการเป็นโรคหัวใจหรือไม่
- ชนิดของอาการเจ็บหน้าอก (ChestPainType) แบบไหนที่สัมพันธ์กับการเป็นโรคหัวใจมากที่สุด
- ST Slope มีความสัมพันธ์กับโรคหัวใจอย่างไร
- คนที่เป็นโรคหัวใจ มีค่า Oldpeak เฉลี่ยสูงกว่าคนปกติหรือไม่

### สมมติฐาน
อายุ, เพศ, ประเภทการเจ็บหน้าอก , ความดันโลหิต, คอเลสเตอรอล, อาการเจ็บหน้าอกขณะออกกำลังกาย , ค่า Oldpeak ที่เป็นระดับ ST depression ที่เกิดขึ้นจากการออกกำลังกาย, ST Slope และอัตราการเต้นของหัวใจ
เป็นปัจจัยที่ส่งผลต่อการเกิดโรคหัวใจ


---

## 4. แหล่งที่มาของข้อมูล (Data Source)

- **Dataset:** Heart Failure Prediction Dataset  
- **Source:** Kaggle  
- ข้อมูลถูกจัดเตรียมสำหรับงาน Classification  

---

## 5. Heart Disease Dataset Data Dictionary 

| ชื่อคอลัมน์ (Column Name) | ประเภทข้อมูล (Data Type) | คำอธิบาย (Description) | ค่าที่เป็นไปได้ / ช่วงข้อมูล (Values / Range) |
| :--- | :--- | :--- | :--- |
| **Age** | Integer | อายุของผู้ป่วย | 28 - 77 ปี |
| **Sex** | Categorical | เพศของผู้ป่วย | • `M`: ชาย (Male)<br>• `F`: หญิง (Female) |
| **ChestPainType** | Categorical | ประเภทของอาการเจ็บหน้าอก | • `ATA`: Atypical Angina<br>• `NAP`: Non-Anginal Pain<br>• `ASY`: Asymptomatic<br>• `TA`: Typical Angina |
| **RestingBP** | Integer | ความดันโลหิตขณะพัก (mm Hg) | 92 - 200 |
| **Cholesterol** | Integer | ระดับคอเลสเตอรอลในเลือด (mm/dl) | 85 - 603 |
| **FastingBS** | Binary | ระดับน้ำตาลในเลือดขณะอดอาหาร<br>*(1 ถ้า > 120 mg/dl, 0 ถ้าไม่เกิน)* | • `0`: ปกติ (<= 120 mg/dl)<br>• `1`: สูง (> 120 mg/dl) |
| **RestingECG** | Categorical | ผลการตรวจคลื่นไฟฟ้าหัวใจขณะพัก | • `Normal`: ปกติ<br>• `ST`: มีความผิดปกติของคลื่น ST-T<br>• `LVH`: กล้ามเนื้อหัวใจห้องล่างซ้ายหนาตัว |
| **MaxHR** | Integer | อัตราการเต้นของหัวใจสูงสุดที่ทำได้ | 69 - 202 |
| **ExerciseAngina** | Binary | อาการเจ็บหน้าอกขณะออกกำลังกาย | • `N`: No (ไม่มี)<br>• `Y`: Yes (มี) |
| **Oldpeak** | Float | ภาวะ ST depression ที่เกิดจากการออกกำลังกายเทียบกับขณะพัก | -0.1 ถึง 6.2 |
| **ST_Slope** | Categorical | ความชันของส่วน ST segment ช่วงพีคของการออกกำลังกาย | • `Up`: ชันขึ้น (Upsloping)<br>• `Flat`: ราบเรียบ (Flat)<br>• `Down`: ชันลง (Downsloping) |
| **HeartDisease** | Integer (Target) | **ผลลัพธ์:** เป็นโรคหัวใจหรือไม่ | • `0`: ปกติ (Normal)<br>• `1`: เป็นโรคหัวใจ (Heart Disease) |

---


## 6. การวิเคราะห์ข้อมูลเชิงสำรวจ  
(Exploratory Data Analysis: EDA)

- ตรวจสอบการกระจายของข้อมูลแต่ละตัวแปร  
- วิเคราะห์ความสัมพันธ์ระหว่างตัวแปรด้วย Correlation Heatmap  
- เปรียบเทียบลักษณะข้อมูลระหว่างกลุ่มปกติและกลุ่มผู้ป่วย  
- ใช้กราฟ Bar Chart และ  Pie Chart เพื่อแสดงความแตกต่างของข้อมูล

## 7. Data Cleaning Process

ชุดข้อมูลดิบ มีการบันทึกค่าผิดปกติบางประการ โดยเฉพาะค่าที่เป็น 0 ในตัวแปรทางสรีรวิทยาที่ไม่ควรเป็น 0 จึงได้ทำการคลีนข้อมูลเพื่อความถูกต้องแม่นยำในการวิเคราะห์ ดังนี้:

### 1. Handling Zero Values (Missing Data imputation)
จากการตรวจสอบข้อมูล พบว่ามีค่า `0` ปะปนอยู่ในคอลัมน์ที่สำคัญ ซึ่งในบริบททางการแพทย์ถือว่าเป็นข้อมูลที่ผิดพลาด (Error/Missing) จึงได้ทำการแก้ไขดังนี้:

* **Cholesterol:** พบค่าเป็น `0` จำนวน **172 แถว**
    * *Action:* ทำการแทนที่ (Impute) ค่า 0 เหล่านั้นด้วยค่ามัธยฐาน (Median) ของระดับคอเลสเตอรอล (แยกตามเพศหรือภาพรวม) เพื่อรักษารูปแบบการแจกแจงของข้อมูล

### 2. General Checks
* **Duplicates:** ตรวจสอบข้อมูลซ้ำซ้อน (Duplicate Rows)
* **Missing Values (NaN):** ตรวจสอบค่าว่าง (Null values)

